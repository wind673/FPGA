`timescale 1ns / 1ps
module led_test (
clk, // 开发板上输入时钟: 50Mhz
rst_n, // 开发板上输入复位按键
led // 输出 LED 灯,用于控制开发板上四个 LED(LED1~LED4)
);
//=====================================================
// PORT declarations
//======================================================
input clk;
input rst_n;
output [3:0] led;
//寄存器定义
reg [31:0] timer;
reg [3:0] led;
//========================================================
// 计数器计数:循环计数 0~4 秒
//===================================================
always @(posedge clk or negedge rst_n) //检测时钟的上升沿和复位的下降沿

begin
if (~rst_n) //复位信号低有效
timer <= 0; //计数器清零
else if (timer == 32'd199_999_999) //开发板使用的晶振为 50MHz，4 秒计数
(50M*4-1=199_999_999)s
timer <= 0; //计数器计到 4 秒，计数器清零
else
timer <= timer + 1'b1; //计数器加 1
end
//=====================================================
// LED 灯控制
//=====================================================
always @(posedge clk or negedge rst_n) //检测时钟的上升沿和复位的下降沿
begin
if (~rst_n) //复位信号低有效
led <= 4'b1111; //LED 灯输出全为高，四个 LED 灯灭
else if (timer == 32'd49_999_999) //计数器计到 1 秒，
led <= 4'b1110; //LED1 点亮
else if (timer == 32'd99_999_999) //计数器计到 2 秒，
led <= 4'b1101; //LED2 点亮
else if (timer == 32'd149_999_999) //计数器计到 3 秒，
led <= 4'b1011; //LED3 点亮
else if (timer == 32'd199_999_999) //计数器计到 4 秒，
led <= 4'b0111; //LED4 点亮
end
endmodule
